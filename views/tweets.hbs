<div class="left rl">
  <a href=""><img class="ac-img" src="/images/ac@2x.png" alt=""></a>
  <div>
    <a href="/tweets" class="icon-home leftbar-text">
      <img class="home-img" src="/images/home@2x.png" alt="">
      <span><strong>首頁</strong></span>
    </a>
  </div>
  <div class="mt-4 mb-1">
    <a href="/users/1/followings" class="icon-user leftbar-text">
      <img class="user-img" src="/images/user@2x.png" alt="">
      <span><strong>個人資料</strong></span>
    </a>
  </div>
  <div class="mt-4 mb-1">
    <a href="/tweets" class="icon-setting leftbar-text">
      <img class="setting-img" src="/images/setting@2x.png" alt="">
      <span><strong>設定</strong></span>
    </a>
  </div>
  <div class="tweetbtn-MP">
    <a class="tweetbtn" style="" href="/tweets/new" method="">推文</a>
  </div>
  <div class="mt-4 mb-1">
    <a href="/tweets" class="icon-setting leftbar-text">
      <img class="logout-img" src="/images/logout@2x.png" alt="">
      <span><strong>登出</strong></span>
    </a>
  </div>
</div>

<div class="middle right-line-2 left-line-2">
  <div>
    <p class="middle-title">首頁</p>
  </div>
  <div class="tweetbox top-line-2 rel">
    <form action="/tweets" method="POST">
      <img class="avatar-img m16-8-0-27 fl" src="{{viewUser.avatar}}" alt=""style="border-radius: 50%">
      <span>
        <textarea class="modal-input-tweets mt-3" type="description" name="description" id="description" cols="30"
          rows="10" placeholder="有什麼新鮮事?" maxlength="140"></textarea>
        <input type="hidden" name="UserId" value="{{tweets.User.id}}" />
      </span>
      <div>
        <button class="tweetbtn-s abs" type="submit">推文</button>
      </div>
    </form>
  </div>
  <div class="bottom-line-16 m-0 p-0"></div>
  {{!-- 推文 start--}}
  <div class="bottom-line-2">
    <div class="fl">
      <a href=""><img class="ac-img" src="/images/img@2x.png" alt=""></a>
    </div>
    <div class="tweet-flow-text fl">
      <a href="" class="text-decoration-n">
        <span class="twitterbox-name">Apple</span>
      </a>
      <span class="twitterbox-time">@apple ‧ 3小時</span>
      <p class="twitterbox-text">
        Nulla Lorem mollit cupidatat irure. Laborum magna nulla duis ullamco cillum dolor. Voluptate exercitation
        incididunt
        aliquip deserunt reprehenderit elit laborum.
      </p>
      <span class="twitterbox-time mx-40"><img class="tweet-flow-img" src="/images/reply@2x.png" alt="">13</span>
      <span class="twitterbox-time"><img class="tweet-flow-img" src="/images/like@2x.png" alt="">16</span>
      <div class="bottom-line-f"></div>
    </div>
  </div>
  {{!-- 推文 end--}}
  {{!-- 推文 start--}}
  <div class="bottom-line-2">
    <div class="fl">
      <a href=""><img class="ac-img" src="/images/img@2x.png" alt=""></a>
    </div>
    <div class="tweet-flow-text fl">
      <a href="" class="text-decoration-n">
        <span class="twitterbox-name">Apple</span>
      </a>
      <span class="twitterbox-time">@apple ‧ 3小時</span>
      <p class="twitterbox-text">
        Nulla Lorem mollit cupidatat irure. Laborum magna nulla duis ullamco cillum dolor. Voluptate exercitation
        incididunt
        aliquip deserunt reprehenderit elit laborum.
      </p>
      <span class="twitterbox-time mx-40"><img class="tweet-flow-img" src="/images/reply@2x.png" alt="">13</span>
      <span class="twitterbox-time"><img class="tweet-flow-img" src="/images/like@2x.png" alt="">16</span>
      <div class="bottom-line-f"></div>
    </div>
  </div>
  {{!-- 推文 end--}}
  {{!-- 推文 start--}}
  <div class="bottom-line-2">
    <div class="fl">
      <a href=""><img class="ac-img" src="/images/img@2x.png" alt=""></a>
    </div>
    <div class="tweet-flow-text fl">
      <a href="" class="text-decoration-n">
        <span class="twitterbox-name">Apple</span>
      </a>
      <div>
        {{!-- reply icon --}}
      <span class="twitterbox-time mx-40"><button class="btn" data-bs-target="#replyModal{{this.id}}" data-bs-toggle="modal" ><img class="tweet-flow-img" src="/images/reply@2x.png" alt="">{{this.Replies.length}}</button></span>
      {{!-- isLiked --}}
      {{#if this.isLiked}}
      <form action="/tweets/{{this.id}}/unlike" method="POST" style="display: contents;">
        <span class="twitterbox-time">
          <button type="submit" class="btn">
            <img class="tweet-flow-img" src="/images/like@2x.png" alt="">
            {{this.Likes.length}}
          </button>
        </span>
      </form>
      {{else}}
      <form action="/tweets/{{this.id}}/like" method="POST" style="display: contents;">
        <span class="twitterbox-time">
          <button type="submit" class="btn">
            <img class="tweet-flow-img" src="/images/unlike@2x.png" alt="">
            {{this.Likes.length}}
          </button>
        </span>
      </form>
      {{/if}}
      </div>
      <span class="twitterbox-time mx-40"><img class="tweet-flow-img" src="/images/reply@2x.png" alt="">13</span>
      <span class="twitterbox-time"><img class="tweet-flow-img" src="/images/like@2x.png" alt="">16</span>
      <div class="bottom-line-f"></div>
    </div>
  </div>
    {{reply-modal}}
  {{/each}}
        </div>
      </div>
  
  {{> user-tweet}}
  {{> rightbar}}

  <script>
    const replyButton = document.querySelector('.reply-button')
    const reply = document.querySelector('.reply')
    const hint = document.querySelector('.hint')
    replyButton.addEventListener('click', (e) => {
      if (reply.innerText === '') {
        e.preventDefault()
        hint.innerText = '內容不可空白'
      }
    })
  </script>
