<div class="container-fluid">
  <div class="row flex-nowrap ps-xl-2 justify-content-around">
    {{!-- Home bar --}}
    <div class="col-auto col-lg-3">
      <a class="d-flex ml-5 py-3 pl-4" href="/">
        <i class="fab fa-twitter-square" style="font-size: 2.5em; color: #FF6600;"></i>
      </a>
      <div class="d-flex flex-column align-items-start ml-5 px-3 pt-2 min-vh-100">
        <ul class="nav flex-column nav-pills pr-5" id="menu" style="width: 100%;">
          <li class="nav-item px-2 py-1">
            <a class="nav-link align-middle text-dark " href="">
              <i class="fas fa-home a-tomato" style="font-size: 1.2em;"></i>
              <span class="h5 menu-text home a-tomato">首頁</span>
            </a>
          </li>
          <li class="nav-item px-2 py-1">
            <a class="nav-link align-middle text-dark h-tomato" href="">
              <i class="far fa-user" style="font-size: 1.2em;"></i>
              <span class="h5 menu-text user">個人資料</span>
            </a>
          </li>
          <li class="nav-item px-2 py-1">
            <a class="nav-link align-middle text-dark h-tomato" href="">
              <i class="fas fa-cog" style="font-size: 1.2em;"></i>
              <span class="h5 menu-text setting">設定</span>
            </a>
          </li>
          <li class="nav-item px-2">
            <button type="button" class="btn btn-tomato rounded-pill mt-3"
              style="width: 100%; border-radius: 30px 30px 30px 30px;" data-toggle="modal" data-target="#tweetModal"
              data-bs-toggle="modal">
              <span class='tweet-btn'>推文</span>
            </button>
          </li>
        </ul>
      </div>
    </div>
    {{!-- Middle Main bar --}}
    <div class="row col-9 col-lg-6 col-md-7 col-sm-8 py-2">
      <div class="card-header col-12 row m-0">
        <a href="javascript:history.back()" style="color:black"
          class="col-auto d-flex align-items-center text-decoration-none">
          <i class="fas fa-arrow-left" style="font-size: 1.8em;"></i>
        </a>
        <a href="/"
          class="col-auto d-flex flex-column align-items-start justify-content-center link-dark text-decoration-none">
          <span class="h5 fw-bold" style="line-height: 15px;">使用者名稱</span>
          <span style="color: #6c757d; font-size: 0.95em; line-height: 15px">1000 推文數</span>
        </a>
      </div>
      <div class="card-body col-12 m-0 p-0 position-relative">
        <div class="bg-holder" style="height: 280px;">
          <img src="https://www.bzjbk.com/zb_users/upload/2020/04/202004211587474172573229.jpg" class="card-img-top"
            alt="背景圖" class="img-fluid" id="bgImage" style="height:100%;width:100%;object-fit:cover">
        </div>
        <div class="avatar-holder">
          <img src="https://images.chinatimes.com/newsphoto/2019-05-31/1024/20190531003576.jpg" class="rounded-circle"
            alt="大頭貼" height="130px" width="130px">
        </div>
      </div>
      <div class="card-body col-12 d-flex justify-content-end">
        <!-- Button trigger modal -->
        <button type="submit" class="btn btn-outline-tomato rounded-pill fw-bold" data-toggle="modal"
          data-target="#profileModal" style="border-radius: 30px 30px 30px 30px;">編輯個人資料</button>

        {{!-- other功能鍵 --}}
        <div class="NoticeAni">
          <a href="/messages/public" class="m-1" style="color:tomato;">
            <i class="far fa-envelope fa-2x m-1"></i> </a>
        </div>

        <div class="Noticed">
          <a href="/users/noti/{{users.id}}" style="color:tomato;">
            <i class="fas fa-bell fa-2x m-1"></i>
          </a>
        </div>

        <div class="NoticeAni">
          <a href="/users/noti/{{users.id}}" class="m-1" id="noticeBell" style="color:tomato;">
            <i class="far fa-bell fa-2x m-1"></i>
          </a>
        </div>

        <form action="/followships/{{users.id}}?_method=DELETE" method="POST" style="margin-left: 10px;"
          class="text-center">
          <button type="submit" class="btn btn-tomato rounded-pill" name="{{users.id}}" style="border-radius: 30px 30px 30px 30px;">正在跟隨</button>
        </form>
        <form action="/followships/{{users.id}}" method="POST">
          <button type="submit" class="btn btn-outline-tomato rounded-pill" name="{{users.id}}"
            style="margin-left: 10px; border-radius: 30px 30px 30px 30px;">跟隨</button>
        </form>
      </div>

      <div class="card-body col-12">
        <div class="card-text ps-2">
          <h4 style="font-weight: 900; line-height: 18px">使用者名稱</h4>
          <span class="text-muted" style="font-size: 0.93em; line-height: 18px;">@使用者名稱</span>
          <p class="my-2" style="font-size: 0.96em; line-height: 25px">個人自介</p>
          <span class="fw-bold">1000 個</span><span class="text-muted">跟隨中</span>
          　<span class="fw-bold">1000 個</span><span class="text-muted">跟隨者</span>
        </div>
      </div>

      <div class="profile-head col-12">
        <nav>
          <div class="nav nav-tabs" id="nav-tab" role="tablist">
            <a class="nav-link active" id="nav-home-tab" data-bs-toggle="tab" href="#nav-home" role="tab"
              aria-controls="nav-home" aria-selected="true"> 推文 </a>
            <a class="nav-link" id="nav-profile-tab" data-bs-toggle="tab" href="#nav-profile" role="tab"
              aria-controls="nav-profile" aria-selected="false">推文與回覆</a>
            <a class="nav-link" id="nav-contact-tab" data-bs-toggle="tab" href="#nav-contact" role="tab"
              aria-controls="nav-contact" aria-selected="false">喜歡的內容</a>
          </div>
        </nav>
      </div>

      <div class="tab-content col-12" id="nav-tabContent">
        {{!--Tweets --}}
        <div class="tab-pane fade show active" id="nav-home" role="tabpanel" aria-labelledby="nav-home-tab">
          <ul class="list-group list-group-flush">

            <li class="list-group-item">
              <div class="row justify-content-around align-items-start mb-1 p-2 bg-white hovercard"
                onclick="location.href='/tweets/{{this.id}}'">
                <div class="col-1 d-flex justify-content-center align-items-center">
                  <a href="/users/{{../users.id}}" class="p-1">
                    <img src="{{../users.avatar}}" alt="A user" width="60" height="60" class="rounded-circle" />
                  </a>
                </div>
                <div class="col-11 row px-md-2 px-4">
                  <div class="col-12 d-inline-flex justify-content-between align-items-center">
                    <div style="height: 22px; line-height: 22px">
                      <span class="h5 text-dark fw-bold">使用者名稱</span>
                      <span class="text-muted ps-1" style="font-size: 0.875em;"> @使用者名稱‧創立時間</span>
                    </div>
                    <div>
                      <form action="/tweets/{{this.id}}?_method=DELETE" method="post" onsubmit="return deleteConfirm()">
                        <button type="submit" class="btn">
                          <i class="fas fa-times"></i>
                        </button>
                      </form>
                    </div>
                  </div>
                  <div class="col-12 mt-1">
                    <p class="fw-bold">推文內容</p>
                  </div>
                  <div class="col-12 d-flex align-items-center justify-content-start ">
                    <!--如果有按喜歡-->
                    <form action="/tweets/{{this.id}}/unlike" method="POST">
                      <button type="submit" class="btn btn-outline-light">
                        <i class="fas fa-heart" style="color: red;width:12px;height:12px;"></i>
                      </button>
                      <span style="display:inline-block;margin-left:20px;">12</span>
                    </form>
                    <!--如果沒有按喜歡-->
                    <form action="/tweets/{{this.id}}/like" method="POST">
                      <button type="submit" class="btn btn-outline-light">
                        <i class="far fa-heart" style="color: red; width: 12px; height: 12px;"></i>
                      </button>
                      <span style="display:inline-block;margin-left:20px;">12</span>
                    </form>
                    <button type="submit" class="btn" style="width: 60px; height: 30px" data-bs-toggle="modal"
                      data-bs-target="#replyModal">
                      <i class="far fa-comment">回覆數</i>
                    </button>
                  </div>
                </div>
              </div>
            </li>

          </ul>
        </div>
        {{!-- repliedTweet --}}
        <div class="tab-pane fade" id="nav-profile" role="tabpanel" aria-labelledby="nav-profile-tab">
          <ul class="list-group list-group-flush">
            {{!-- {{#each repiledTweet}} --}}
            <li class="list-group-item">
              <div class="row justify-content-around align-items-start mb-1 p-2 bg-white">
                <div class="col-1 d-flex justify-content-center align-items-center">
                  <a href="/users/{{this.Tweet.User.id}}" class="p-1">
                    <img
                      src="https://memeprod.ap-south-1.linodeobjects.com/user-template-thumbnail/77d77e6a83a7f6a32e624f27d81ea4fa.jpg"
                      alt="" width="60" height="60" class="rounded-circle" />
                  </a>
                </div>
                <div class="col-11 row px-md-2 px-4">
                  <div class="col-12 d-inline-flex justify-content-between align-items-center">
                    <div style="height: 22px; line-height: 22px">
                      <a href="/users/{{this.Tweet.User.id}}"
                        class="h5 text-dark text-decoration-none fw-bold">使用者名稱</a>
                      <span class="text-muted ps-1" style="font-size: 0.875em;"> @使用者帳號‧創立時間</span>
                    </div>
                  </div>
                  <div class="col-12 mt-1">
                    <p class="fw-bold">個人自介</p>
                  </div>
                  <div class="card-text col-12" style="margin-top:1vw">
                    <a href="/tweets/{{this.Tweet.id}}" class="text-decoration-none">
                      <p class="mt-2" style="color: tomato; font-size: 0.875em">@你的回覆</p>
                    </a>
                  </div>
                  <div class="col-12">
                    <p class="fw-bold">回覆數</p>
                  </div>
                  <div class="col-12 d-flex align-items-center justify-content-start ">
                    <!--如果有按喜歡-->
                    <form action="/tweets/{{this.id}}/unlike" method="POST">
                      <button type="submit" class="btn btn-outline-light">
                        <i class="fas fa-heart" style="color: red;width:12px;height:12px;"></i>
                      </button>
                      <span style="display:inline-block;margin-left:20px;">12</span>
                    </form>
                    <!--如果沒有按喜歡-->
                    <form action="/tweets/{{this.id}}/like" method="POST">
                      <button type="submit" class="btn btn-outline-light">
                        <i class="far fa-heart" style="color: red; width: 12px; height: 12px;"></i>
                      </button>
                      <span style="display:inline-block;margin-left:20px;">12</span>
                    </form>
                    {{#if this.Tweet.replyCount}}
                    <button type="submit" class="btn" style="width: 60px; height: 30px" data-bs-toggle="modal"
                      data-bs-target="#replyModal">
                      <i class="fas fa-comment"> {{ this.Tweet.replyCount }}</i>
                    </button>
                    {{else}}
                    <button type="submit" class="btn" style="width: 60px; height: 30px" data-bs-toggle="modal"
                      data-bs-target="#replyModal">
                      <i class="far fa-comment"> {{ this.Tweet.replyCount }}</i>
                    </button>
                    {{/if}}
                  </div>
                </div>
              </div>
            </li>
            {{!-- {{/each}} --}}
          </ul>
        </div>
      </div>
    </div>
    {{!-- follower bar --}}
    <div class="col-auto col-md-3 col-lg-3">
      <div class="card d-none d-md-flex flex-column mt-1 p-2 px-3" style="border: none;">
        <ul class="list-group-flush">
          <li class="list-group-item bg-light" style="font-size: 18px; font-weight: bold; border: none;">Popular</li>
          <!--第一個跟隨者-->
          <li class="list-group-item bg-light" style="border-left: none;border-right: none">
            <div class="row justify-content-around align-items-center">
              <div class="col-2 d-flex justify-content-center align-items-center" style="padding-left: 20px;">
                <a href="/users/{{this.id}}">
                  <img src="https://mir-s3-cdn-cf.behance.net/project_modules/max_1200/22c22e57910025.59e8689468e11.jpg"
                    alt="" width="50" height="50" class="rounded-circle">
                </a>
              </div>

              <div class="col-6 pt-3 d-flex flex-column align-items-start">
                <h5 style="line-height: 18px;">小名</h5>
                <p class="text-muted" style="line-height: 16px;">@小名</p>
              </div>

              <div class="col-4 d-flex justify-content-center">

                <form action="/followships/{{this.id}}?_method=DELETE" method="POST">
                  <button type="submit" class="btn btn-tomato" name="{{user.id}}"
                    style="font-size: 15px; border-radius: 30px 30px 30px 30px;font-weight: bold;">正在跟隨</button>
                </form>

                {{!-- <form action="/followships/{{this.id}}" method="POST" style="display: contents;">
                  <button type="submit" class="btn btn-outline-tomato" name="{{user.id}}"
                    style="font-size: 15px; border-radius: 30px 30px 30px 30px;font-weight: bold;">跟隨</button>
                </form> --}}

              </div>
            </div>
          </li>
          <!--第二個跟隨者-->
          <li class="list-group-item bg-light" style="border-left: none;border-right: none">
            <div class="row justify-content-around align-items-center">
              <div class="col-2 d-flex justify-content-center align-items-center" style="padding-left: 20px;">
                <a href="/users/{{this.id}}">
                  <img src="https://mir-s3-cdn-cf.behance.net/project_modules/max_1200/22c22e57910025.59e8689468e11.jpg"
                    alt="" width="50" height="50" class="rounded-circle">
                </a>
              </div>

              <div class="col-6 pt-3 d-flex flex-column align-items-start">
                <h5 style="line-height: 18px;">小名</h5>
                <p class="text-muted" style="line-height: 16px;">@小名</p>
              </div>

              <div class="col-4 d-flex justify-content-center">

                <form action="/followships/{{this.id}}?_method=DELETE" method="POST">
                  <button type="submit" class="btn btn-tomato" name="{{user.id}}"
                    style="font-size: 15px; border-radius: 30px 30px 30px 30px;font-weight: bold;">正在跟隨</button>
                </form>
                <!--跟隨-->
                {{!-- <form action="/followships/{{this.id}}" method="POST" style="display: contents;">
                  <button type="submit" class="btn btn-outline-tomato" name="{{user.id}}"
                    style="font-size: 15px; border-radius: 30px 30px 30px 30px;font-weight: bold;">跟隨</button>
                </form> --}}
              </div>
            </div>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <div class="dropdown p-2 pb-4">
    <a href="" class="d-flex align-middle text-decoration-none text-dark">
      <i class="fas fa-sign-out-alt" style="font-size: 1.2em;"></i>
      <span class="d-none d-sm-inline h5 ps-2 fw-bold">登出</span>
    </a>
  </div>
</div>


<!-- edit user profile Modal -->
<div class="modal fade bd" id="profileModal" tabindex="-1" aria-labelledby="ModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <form action="/users/{{user.id}}/edit?_method=PUT" method="post" enctype="multipart/form-data">
        <div class="modal-header">
          <div class="d-flex align-items-center">
            <button type="button" class="btn a-tomato" data-bs-dismiss="modal" aria-label="Close">
              <i class="fas fa-times"></i>
            </button>
            <span class="modal-title h5 fw-bold ps-3" id="ModalLabel">編輯個人資料</span>
          </div>
          <button type="submit" class="badge btn btn-tomato  rounded-pill fw-bold" style="font-size: 1.1em;">儲存</button>
        </div>
        <div class="modal-body row">
          <div class="col-12 m-0 p-0 position-relative mb-5">
            <div class="bg-holder" style="height: 170px;">
              <img src="" class="card-img-top" alt="背景圖" class="img-fluid" id="bgImage"
                style="height:100%;width:100%;object-fit:cover">
            </div>
            <label for="cover" class="btn cover-uploader">
              <input class="d-none" type="file" id="cover" name="cover" accept="image/*">
              <i class="fas fa-camera" style="font-size: 1.5em; color: white"></i>
            </label>
            <div class="avatar-holder">
              <img src="" class="rounded-circle" alt="大頭貼" height="80px" width="80px">
            </div>
            <label for="avatar" class="btn avator-uploader">
              <input class="d-none" type="file" id="avatar" name="avatar" accept="image/*">
              <i class="fas fa-camera" style="color: white;"></i>
            </label>
          </div>

          <div class="col-12 mb-3 mt-2">
            <label for="name" class="fw-bold"
              style="margin-bottom: -30px; margin-left: 8px; font-size: 1.1em">名稱</label>
            <input type="text" class="form-control pt-4 nowcount1" id="name" name="name" maxlength="50"
              style="border:none; border-bottom:2px solid rgb(75, 82, 85);outline: none;background-color:#f4f8fb; font-size:1.1em"
              aria-describedby="nameHelp" value="預設使用者名稱" />
            <p class="text-end text-muted now1" style="font-size: 0.98em;"></p>
          </div>
          <div class="col-12 mb-3 mt-2">
            <label for="description" class="fw-bold" style="margin-left: 8px; font-size: 1.1em;">自我介紹</label>
            <textarea class="form-control nowcount2" id="description" name="description"
              style="border:none; border-bottom:2px solid rgb(75, 82, 85);outline: none;background-color:#f4f8fb; font-size:1.1em;"
              maxlength="160" aria-describedby="descriptionHelp">預設個人自介</textarea>
            <p class="text-end text-muted now2" style="font-size: 0.98em;"></p>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
{{!-- Modal reply--}}
<div class="modal fade" id="replyModal" tabindex="-1" aria-labelledby="replyModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="btn-close" style="left: 0;" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="row justify-content-around align-items-start mb-1 p-2 bg-white">
          <div class="card-image col-1 d-flex justify-content-center align-items-center">
            <img src="大頭貼" class="rounded-circle p-2" style="width: 60px; height: 60px;" alt="大頭貼" />
          </div>
          <div class="col-11 row px-md-2 px-4">
            <div class="col-12 d-inline-flex justify-content-between align-items-center">
              <div style="height: 22px; line-height: 22px">
                <span class=' h5 fw-bold'>使用者名稱</span>
                <span class="ps-1" style="color: #6c757d; font-size: 0.875em">@使用者名稱．創立時間</span>
              </div>
            </div>
            <div class="col-12 mt-2">
              <p class="fw-bold text-dark" style="font-size: 0.8em">推文內容</p>
            </div>
            <div class="col-12 mt-2">
              <p style="color: tomato; font-size: 0.8em">回覆給 @使用者帳號</p>
            </div>
          </div>
        </div>
        <hr>
        <div class="row ps-3 bg-white">
          <form action="/replies" method="POST" class="mt-2 ">
            <div class="position-relative" style="padding: 75px 0;">
              <div class="position-absolute" style="z-index: 5; left: -10px; top: 0px;">
                <img src="大頭貼" class="rounded-circle p-1 mt-1 " style="width: 50px; height: 50px;" alt="大頭貼" />
              </div>
              <div class="position-absolute" style="z-index: 0; width: 430px; top:-5px; left:-5px;">
                <textarea class="mt-1 bd" id="content" name="content" rows="3" placeholder="推你的回覆" maxlength="140"
                  style="width:inherit; border:none; outline: none; padding-left: 58px; padding-top: 17px; padding-bottom: 50px; font-size:1.1em;"
                  required></textarea>
                <input type="hidden" name="TweetId" value="" />
              </div>
              <div class="position-absolute" style="z-index: 5; right: 6px; bottom: -5px;">
                <span class="text-muted px-2" style="font-size: 0.98em;"></span>
                <button type="submit" class="btn btn-tomato fw-bold rounded-pill">回覆</button>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>