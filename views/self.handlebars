<div class="container d-flex flex-column align-items-center">

  <div class="card" style="width: 38rem;">

    <div class="d-flex align-items-center">
      <a href="/" class="btn">
        <i class="fas fa-arrow-left"></i>
      </a>
      <div class="d-flex flex-column ms-4">
        <h5 class="mb-0 mt-2 fontWeight900">{{user.name}}</h5>
        <p class="mt-0 mb-2" style="color:#657786;">{{totalTweet}} 推文</p>
      </div>
    </div>

    <img src="{{user.cover}}" style="position:absolute z-index:-1;" class="" alt="...">
    <img src="{{user.avatar}}" style="width: 9rem; position:absolute; top: 20rem; left: 1rem;" class="rounded-circle"
      alt="...">
    <div class="d-flex flex-row-reverse m-2">
      <a href="/user/self/edit/{{user.id}}" class=""></a>
      <button type="button" class="btn btn-orange-white rounded-pill" data-bs-toggle="modal"
        data-bs-target="#exampleModal" data-bs-whatever="@getbootstrap">編輯個人資料</button>
      </a>
    </div>
    <div class="card-body">
      <h5 class="card-title fontWeight900">{{user.name}}</h5>
      <h6 style="color:#657786;">@{{user.account}}</h6>
      <p class="card-text">{{user.introduction}}</p>
    </div>

    <div class="d-flex mx-3">
      <a href="/user/self/following" class="btn ps-0">
        <span class="fontWeight500">{{followerCount}}個</span><span style="color:#657786;">跟隨中</span>
      </a>
      <a href="/user/self/follower" class="btn">
        <span class="fontWeight500">{{followingCount}}位</span><span style="color:#657786;">跟隨者</span>
      </a>
    </div>

    <ul class="nav nav-tabs mt-4">
      <li class="nav-item">
        <a class="nav-link fontWeight700 active" href="#">推文</a>
      </li>
      <li class="nav-item">
        <a class="nav-link fontWeight700" href="/users/self/reply/{{user.id}}">推文與回覆</a>
      </li>
      <li class="nav-item">
        <a class="nav-link fontWeight700" href="/users/self/like/{{user.id}}">喜歡的內容</a>
      </li>
    </ul>


    {{#each tweet}}
    <div class="card p-3">
      <div class="d-flex">
        <div>
          <img src="{{../user.avatar}}" style="width: 3rem" class="rounded-circle me-3" alt="...">
        </div>
        <div class="col-md-8">
          <div class="userInfo d-flex">
            <h6 class="fontWeight700 me-2">{{../user.name}}</h6>
            <h6 class="fontWeight500" style="color:#657786;">@{{../user.account}}</h6>
            <h6 class="fontWeight500" style="color:#657786;">‧{{moment this.createdAt}}</h6>
          </div>
          <p class="card-text fontWeight500">{{this.content}}</p>
          <i class="far fa-heart me-3"></i><span class="fontWeight500 me-5">{{this.likeCount}}</span>
          <i class="far fa-comment me-3"></i><span class="fontWeight500">{{this.replyCount}}</span>
        </div>
      </div>
    </div>
    {{/each}}
  </div>
</div>


<!-- Profile Modal -->
<div class="modal fade" id="userModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content" style="width: 598px;">
      <div class="modal-header">
        <div class="d-flex align-items-center">
          <button type="button" style="color:#FF6600;" class="btn-close ms-0 btn-userModal" data-bs-dismiss="modal"
            aria-label="Close"></button>
          <h5 class="modal-title ms-5 fontWeight700" id="exampleModalLabel">編輯個人資料</h5>
        </div>
        <button type="button" class="btn btn-white-orange rounded-pill" style="width: 66px;">儲存</button>
      </div>


      <div class="">
        <div class="mb-3">
          <img src="https://w.wallhaven.cc/full/pk/wallhaven-pkw6y3.jpg" width="596px" class="mx-0 px-0" alt="...">
          <img src="https://randomuser.me/portraits/women/72.jpg"
            style="width: 120px; position:absolute; top: 20rem; left: 1rem;" class="rounded-circle" alt="...">
        </div>
        <form>
          <div class="mt-5 mx-3" style="background-color: #F5F8FA;">
            <label for="recipient-name" class="col-form-label fontWeight500 ms-3" style="color:#657786;">名稱</label>
            <input type="text" class="form-control editInput ms-1" id="recipient-name" value="我是誰？">
          </div>
          <div class="d-flex justify-content-end mt-0 mb-3 me-3">
            <span class="fontWeight500" style="color:#657786;">0/50</span>
          </div>
          <div class="mx-3" style="background-color: #F5F8FA;">
            <label for=" message-text" class="col-form-label fontWeight500 ms-3" style="color:#657786;">自我介紹</label>
            <textarea class="form-control editInput ms-3" id="message-text"></textarea>
          </div>
          <div class="d-flex justify-content-end mt-0 mb-3 me-3">
            <span class="fontWeight500" style="color:#657786;">0/160</span>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>