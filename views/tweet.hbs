<div class="single-tweet">
  <ul class="list-group list-group-flush">
    <li class="list-group-item d-flex align-items-center">
      <a href="/tweets" class="back">
        <svg width="3em" height="3em" viewBox="0 0 16 16" class="bi bi-arrow-left-short font-weight-bold text-dark"
          fill="currentColor" xmlns="http://www.w3.org/2000/svg">
          <path fill-rule="evenodd"
            d="M7.854 4.646a.5.5 0 0 1 0 .708L5.207 8l2.647 2.646a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 0 1 .708 0z" />
          <path fill-rule="evenodd" d="M4.5 8a.5.5 0 0 1 .5-.5h6.5a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5z" />
        </svg>
      </a>
      <div class="font-weight-bold h5 ml-5 mt-2">推文</div>
    </li>

    <li class="list-group-item">
      <div class="user-wrap d-flex">
        <img src="{{tweet.User.avatar}}" alt="" class="rounded-circle mr-4" style="width: 60px; height: 60px;">
        <div class="user d-flex flex-column justify-content-center">
          <div class="user-name font-weight-bold">
            {{tweet.User.name}}
          </div>
          {{!-- 連結到user 頁面 --}}
          <a href="/users/{{tweet.User.id}}" class="user-account text-secondary">
            @{{tweet.User.account}}
          </a>

        </div>
      </div>

      <p class="h3 mt-3">{{tweet.description}}</p>
      <div class="time">

      </div>
    </li>
    <li class="list-group-item d-flex">
      <div class="mr-4 text-secondary h5">
        <span>{{totalCount.totalComment}}</span> 回覆
      </div>
      <div class="text-secondary h5"> {{totalCount.totalLike}} 喜歡次數</div>
    </li>
    <li class="list-group-item d-flex justify-content-around">
      <a href="/tweets/{{tweet.id}}/comments" class="mt-1">
        <svg width="1.6em" height="1.6em" viewBox="0 0 16 16" class="bi bi-chat text-dark" fill="currentColor"
          xmlns="http://www.w3.org/2000/svg">
          <path fill-rule="evenodd"
            d="M2.678 11.894a1 1 0 0 1 .287.801 10.97 10.97 0 0 1-.398 2c1.395-.323 2.247-.697 2.634-.893a1 1 0 0 1 .71-.074A8.06 8.06 0 0 0 8 14c3.996 0 7-2.807 7-6 0-3.192-3.004-6-7-6S1 4.808 1 8c0 1.468.617 2.83 1.678 3.894zm-.493 3.905a21.682 21.682 0 0 1-.713.129c-.2.032-.352-.176-.273-.362a9.68 9.68 0 0 0 .244-.637l.003-.01c.248-.72.45-1.548.524-2.319C.743 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7-3.582 7-8 7a9.06 9.06 0 0 1-2.347-.306c-.52.263-1.639.742-3.468 1.105z" />
        </svg>

      </a>
      <form action="/likes/{{tweet.id}}" method="post">
        <button type="submit" class="btn btn-link">
          <svg width="1.6em" height="1.6em" viewBox="0 0 16 16" class="bi bi-heart text-dark" fill="currentColor"
            xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd"
              d="M8 2.748l-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z" />
          </svg>
        </button>
      </form>
      <form action="/likes/{{tweet.id}}?_method=DELETE" method="POST">
        <button>Unlike</button>
      </form>
    </li>

    {{#each tweet.whoReply}}
    <li class="list-group-item list-group-item-action">

      <div class="user-wrap d-flex">

        <img src="{{this.avatar}}" alt="" class="rounded-circle mr-4" style="width: 60px; height: 60px;">

        <div class="d-flex flex-column">
          <div class="d-flex flex-column">
            <div class="user d-flex justify-content-start">
              <div class="user-name font-weight-bold mr-2">
                {{this.name}}
              </div>
              <a href="/users/{{this.id}}" class="user-account text-secondary">
                @{{this.account}}
              </a>
              {{!-- 要改 --}}
              <span>・{{moment this.Reply.createdAt}}</span>
            </div>
            <div>
              <div> 回覆
                <a href="/users/{{ ../tweet.User.id}}" class="text-danger">＠{{../tweet.User.account}}</a>
              </div>
            </div>
          </div>
          <p class="mt-2 ">{{this.Reply.comment}}</p>
          <div class="d-flex justify-content-start">
            <a href="/tweet/{{this.id}}/reply" class="mt-1 mr-5 text-dark">
              <svg width="1.1em" height="1.1em" viewBox="0 0 16 16" class="bi bi-chat" fill="currentColor"
                xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd"
                  d="M2.678 11.894a1 1 0 0 1 .287.801 10.97 10.97 0 0 1-.398 2c1.395-.323 2.247-.697 2.634-.893a1 1 0 0 1 .71-.074A8.06 8.06 0 0 0 8 14c3.996 0 7-2.807 7-6 0-3.192-3.004-6-7-6S1 4.808 1 8c0 1.468.617 2.83 1.678 3.894zm-.493 3.905a21.682 21.682 0 0 1-.713.129c-.2.032-.352-.176-.273-.362a9.68 9.68 0 0 0 .244-.637l.003-.01c.248-.72.45-1.548.524-2.319C.743 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7-3.582 7-8 7a9.06 9.06 0 0 1-2.347-.306c-.52.263-1.639.742-3.468 1.105z" />
              </svg>

            </a>


            {{!-- likes --}}
            <form action="/likes/{{this.id}}" method="post">
              <button type="submit" class="btn btn-link text-dark">
                <svg width="1.1em" height="1.1em" viewBox="0 0 16 16" class="bi bi-heart " fill="currentColor"
                  xmlns="http://www.w3.org/2000/svg">
                  <path fill-rule="evenodd"
                    d="M8 2.748l-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z" />
                </svg>
              </button>
            </form>

          </div>
        </div>

      </div>

    </li>
    {{/each}}

  </ul>
</div>