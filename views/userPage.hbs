<div class="single-tweet">
  <ul class="list-group list-group-flush">
    <li class="list-group-item d-flex align-items-center">
      <a href="/tweets" class="back">
        <svg width="3em" height="3em" viewBox="0 0 16 16" class="bi bi-arrow-left-short font-weight-bold text-dark"
          fill="currentColor" xmlns="http://www.w3.org/2000/svg">
          <path fill-rule="evenodd"
            d="M7.854 4.646a.5.5 0 0 1 0 .708L5.207 8l2.647 2.646a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 0 1 .708 0z" />
          <path fill-rule="evenodd" d="M4.5 8a.5.5 0 0 1 .5-.5h6.5a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5z" />
        </svg>
      </a>
      <div class="ml-5 mt-2">
        <div class="font-weight-bold">
          {{user.name}}
        </div>
        <span class="text-secondary">
          {{followShip.tweetsCount}} 推文
        </span>
      </div>
    </li>
    <img src="{{user.cover}}" alt="" height="200px" width="100%">
    <li class="list-group-item card">


      <div class="d-flex justify-content-between align-items-center">
        <div class="position-relative mb-5">
          <img src="{{user.avatar}}" alt="" class="rounded-circle position-absolute" width=" 140px" height=" 140px"
            style="top: -80px; left: 25px; border: 5px solid white">
        </div>

        {{#ifCond user.id myUser.id}}

        {{!-- <a href="/users/{{user.id}}/profile" class="btn btn-outline-danger rounded-pill">編輯個人資料</a> --}}

        <!-- Button trigger modal -->
        <button type="button" class="btn btn-outline-danger rounded-pill" data-toggle="modal"
          data-target="#exampleModalCenter">
          編輯個人資料
        </button>

        <!-- Modal -->
        <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog"
          aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLongTitle">Edit Profile</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">

                <form action="/users/{{user.id}}/profile?_method=PUT" method="POST" enctype="multipart/form-data">

                  <br>
                  <br>
                  <div class="form-group">
                    <label for="cover">Cover</label>
                    <input type="file" class="form-control-file" id="cover" name="cover">
                  </div>
                  <div class="form-group">
                    <label for="avatar">Avatar</label>
                    <input type="file" class="form-control-file" id="avatar" name="avatar">
                  </div>
                  <div class="form-group">
                    <label for="introduction">Introduction</label>
                    <textarea class="form-control" id="introduction" name="introduction"
                      rows="3">{{user.introduction}}</textarea>
                  </div>


                  <button type="submit" class="btn btn-primary">Submit</button>
                </form>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                {{!-- <button type="button" class="btn btn-primary">Save changes</button> --}}
              </div>
            </div>
          </div>
        </div>




        {{else}}
        <div class="d-flex">


          {{#if isNoti}}
          <form action="#" method="post" class="mr-3">
            <button type="submit" class="btn btn-danger rounded-pill"> <svg width="1em" height="1em" viewBox="0 0 16 16"
                class="bi bi-bell" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path d="M8 16a2 2 0 0 0 2-2H6a2 2 0 0 0 2 2z" />
                <path fill-rule="evenodd"
                  d="M8 1.918l-.797.161A4.002 4.002 0 0 0 4 6c0 .628-.134 2.197-.459 3.742-.16.767-.376 1.566-.663 2.258h10.244c-.287-.692-.502-1.49-.663-2.258C12.134 8.197 12 6.628 12 6a4.002 4.002 0 0 0-3.203-3.92L8 1.917zM14.22 12c.223.447.481.801.78 1H1c.299-.199.557-.553.78-1C2.68 10.2 3 6.88 3 6c0-2.42 1.72-4.44 4.005-4.901a1 1 0 1 1 1.99 0A5.002 5.002 0 0 1 13 6c0 .88.32 4.2 1.22 6z" />
              </svg>
              <div class="position-relative">
                <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-check2 position-absolute"
                  style="top: -28px;" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                  <path fill-rule="evenodd"
                    d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z" />
                </svg>
              </div>
            </button>
          </form>
          {{else}}
          <form action="#" method="post" class="mr-3">
            <button type="submit" class="btn btn-outline-danger rounded-pill"> <svg width="1em" height="1em"
                viewBox="0 0 16 16" class="bi bi-bell" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path d="M8 16a2 2 0 0 0 2-2H6a2 2 0 0 0 2 2z" />
                <path fill-rule="evenodd"
                  d="M8 1.918l-.797.161A4.002 4.002 0 0 0 4 6c0 .628-.134 2.197-.459 3.742-.16.767-.376 1.566-.663 2.258h10.244c-.287-.692-.502-1.49-.663-2.258C12.134 8.197 12 6.628 12 6a4.002 4.002 0 0 0-3.203-3.92L8 1.917zM14.22 12c.223.447.481.801.78 1H1c.299-.199.557-.553.78-1C2.68 10.2 3 6.88 3 6c0-2.42 1.72-4.44 4.005-4.901a1 1 0 1 1 1.99 0A5.002 5.002 0 0 1 13 6c0 .88.32 4.2 1.22 6z" />
              </svg>
              <div class="position-relative">
                <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-plus position-absolute"
                  style="top: -28px;" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                  <path fill-rule="evenodd"
                    d="M8 3.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H4a.5.5 0 0 1 0-1h3.5V4a.5.5 0 0 1 .5-.5z" />
                  <path fill-rule="evenodd" d="M7.5 8a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1H8.5V12a.5.5 0 0 1-1 0V8z" />
                </svg>
              </div>
            </button>
          </form>

          {{/if}}
          <a href="#" class="btn btn-outline-danger rounded-circle mr-3">
            <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-envelope" fill="currentColor"
              xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd"
                d="M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1H2zm13 2.383l-4.758 2.855L15 11.114v-5.73zm-.034 6.878L9.271 8.82 8 9.583 6.728 8.82l-5.694 3.44A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.739zM1 11.114l4.758-2.876L1 5.383v5.73z" />
            </svg>
          </a>
          {{#if followShip.isFollowed}}
          <form action="/followships/{{user.id}}?_method=DELETE" method="post">
            <button type="submit" class="btn btn-danger rounded-pill"> 正在追蹤
            </button>
          </form>
          {{else}}
          <form action="/followships/{{user.id}}" method="post">
            <button type="submit" class="btn btn-outline-danger rounded-pill"> 追蹤
            </button>
          </form>
          {{/if}}


        </div>

        {{/ifCond}}



      </div>
      <div class="d-flex flex-column mt-2">
        <p class="font-weight-bold h4 mt-2 mb-0">{{user.name}}
        </p>
        <span class="text-secondary">@ {{user.account}}</span>
        <p class="mt-3">
          {{user.introduction}}
        </p>

      </div>
      <div class="d-flex">
        <a href="/users/{{user.id}}/followings" class="mr-5 text-dark">
          {{followShip.followingsCount}} 個
          <span class="text-secondary">跟隨中</span>
        </a>
        <a href="/users/{{user.id}}/followers" class="text-dark">
          {{followShip.followersCount}} 位
          <span class="text-secondary">跟隨者</span>
        </a>
      </div>
      <nav>
        <div class="nav mt-3">
          <a href="/users/{{user.id}}/tweets"
            class="user-nav nav-link text-center {{#if followShip.isTweet}} navBar text-danger {{else}} text-secondary {{/if}} "
            style="width: 130px;">推文</a>
          <a href="/users/{{user.id}}/comments"
            class="user-nav nav-link text-center {{#if followShip.isReply}} navBar text-danger {{else}} text-secondary {{/if}} "
            style="width: 130px;">推文與回覆</a>
          <a href="/users/{{user.id}}/likes"
            class="user-nav nav-link text-center {{#if followShip.isLike}} navBar text-danger {{else}} text-secondary {{/if}} "
            style="width: 130px;">喜歡的內容</a>
        </div>

        <div class="tab-content mt-2">
          <ul class="list-group list-group-flush">
            {{#each content }}
            <li class="list-group-item list-group-item-action">

              <div class="user-wrap d-flex">
                <a href="/users/{{this.userId}}">
                  <img src="{{this.userAvatar}}" alt="" class="rounded-circle mr-4" style="width: 60px; height: 60px;">
                </a>

                <div class="d-flex flex-column">
                  <div class="d-flex flex-column">
                    <div class="user d-flex justify-content-start">
                      <div class="user-name font-weight-bold mr-2">
                        {{this.userName}}
                      </div>
                      <a href="/users/{{this.userId}}" class="user-account text-secondary">
                        @{{this.userAccount}}
                      </a>
                      <span>・{{moment this.createdAt}}</span>
                    </div>
                  </div>
                  <a href="/tweets/{{this.tweetId}}" class="mt-2 text-dark" style="text-decoration: none;">
                  <p>
                    {{this.description}} 
                  </p>
                    </a>
                  <div class="d-flex justify-content-start">
                    <a href="/tweets/{{this.tweetId}}/replies" class=" mr-5 text-dark"
                      onmouseover="hoverReply('reply{{this.id}}')" onmouseleave="mouseleaveReply('reply{{this.id}}')">
                      <span>
                        {{this.replayCount}}
                      </span>
                      <svg id="reply{{this.tweetId}}" width="1.1em" height="1.1em" viewBox="0 0 16 16"
                        class="bi bi-chat ml-1" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd"
                          d="M2.678 11.894a1 1 0 0 1 .287.801 10.97 10.97 0 0 1-.398 2c1.395-.323 2.247-.697 2.634-.893a1 1 0 0 1 .71-.074A8.06 8.06 0 0 0 8 14c3.996 0 7-2.807 7-6 0-3.192-3.004-6-7-6S1 4.808 1 8c0 1.468.617 2.83 1.678 3.894zm-.493 3.905a21.682 21.682 0 0 1-.713.129c-.2.032-.352-.176-.273-.362a9.68 9.68 0 0 0 .244-.637l.003-.01c.248-.72.45-1.548.524-2.319C.743 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7-3.582 7-8 7a9.06 9.06 0 0 1-2.347-.306c-.52.263-1.639.742-3.468 1.105z" />
                      </svg>
                    </a>

                    {{#if this.isLiked}}
                    <form action="/likes/{{this.tweetId}}?_method=DELETE" method="post">
                      <span>
                        {{this.likeCount}}
                      </span>
                      <button type="submit" class="btn btn-link text-danger p-0 ml-1">
                        <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-heart-fill" fill="currentColor"
                          xmlns="http://www.w3.org/2000/svg">
                          <path fill-rule="evenodd"
                            d="M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z" />
                        </svg>
                      </button>
                    </form>

                    {{else}}
                    <form action="/likes/{{this.tweetId}}" method="post">
                      <span>
                        {{this.likeCount}}
                      </span>
                      <button type="submit" class="btn btn-link text-dark p-0 "
                        onmouseover="hoverHeartAnimation('heart{{this.tweetId}}')"
                        onmouseleave="mouseleaveHeartAnimation('heart{{this.tweetId}}')">
                        <svg id="heart{{this.tweetId}}" width="1.1em" height="1.1em" viewBox="0 0 16 16"
                          class="bi bi-heart " fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                          <path fill-rule="evenodd"
                            d="M8 2.748l-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z" />
                        </svg>
                      </button>
                    </form>

                    {{/if}}


                  </div>
                </div>
              </div>
            </li>
            {{/each}}
          </ul>
        </div>
      </nav>
  </ul>
</div>