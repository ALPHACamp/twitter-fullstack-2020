<div class="row">
    <div class="col">
        {{> left-nav}}
    </div>
    <div class="col-7 border-start border-end px-0" style="overflow-x:hidden;overflow-y:auto;" id="middle">
        <div class="row">
            <h3 class="my-3 px-4 mx-0 fw-bold col-1">←</h3>
            <div class="col">
                <span class="my-0 py-0 fw-bold fs-5">{{user.name}}</span><br/>
                <small class="my-0">{{tweetsCount}} 推文</small>
            </div>
        </div>

        <div  style="height: 250px;">
            <img src="{{user.cover}}"  alt="cover" style="height:100%;width:100%; object-fit:cover">
        </div>
        <div class="d-flex px-3" style="margin-top:-80px;z-index:100;position:relative">
            <img src="{{user.avatar}}" class="me-auto rounded-circle border border-white border-5" style="width:150px;height:150px">
            <div class="d-flex align-items-end text-end">
                <button type="button" class="btn rounded-pill" style="color:#FF6600;border-color:#FF6600" data-bs-toggle="modal" data-bs-target="#editProfileModal">編輯個人資料</button>
            </div>
        </div>

        <div class="mx-0 px-3">
            <h3 class="fw-bold mb-0">{{user.name}}</h3>
            <small>@{{user.name}}</small><br/>
            <p class="mt-2">{{user.introduction}}</p>
            <div class="d-flex">
                <a href="/users/{{user.id}}/followers" style="text-decoration:none;color:black"><p class="me-3 fw-bold">{{followersCount}}位跟隨者</P></a>
                <a href="/users/{{user.id}}/followings" style="text-decoration:none;color:black"><p class="me-3 fw-bold">{{followingsCount}}個跟隨中</p></a> 
            </div>
        </div>
        <div class="row mx-0 px-0">
            <a class="col text-center pb-2 " href="/users/{{user.id}}/tweets" style="text-decoration:none;{{#if user.Tweets}}color:#FF6600;border-bottom:solid;border-color:#FF6600;{{else}}color:black;{{/if}}">
                推文
            </a>
            <a class="col text-center pb-2 " href="/users/{{user.id}}/replies" style="text-decoration:none;{{#if userReplies}}color:#FF6600;border-bottom:solid;border-color:#FF6600;{{else}}color:black;{{/if}}">
                回覆
            </a>
            <a class="col-2 text-center pb-2 " href="/users/{{user.id}}/likes" style="text-decoration:none;{{#if user.Likes}}color:#FF6600;border-bottom:solid;border-color:#FF6600;{{else}}color:black;{{/if}}">
                喜歡的內容
            </a>
            <div class="col-7"></div>
        </div>
        <hr class="mt-0">

        <div>
            {{#each tweets}}
                {{> tweet-block tweet=this user=../user}}
            {{/each}}

            {{#if likes}}
                {{#each likes}}
                    {{> tweet-block tweet=this.Tweet user=../user}}
                {{/each}}
            {{/if}}

            {{#if user.Replies}}
                {{#each user.Replies}}
                    {{> reply-block tweet=this.Tweet User=../user}}
                {{/each}}
            {{/if}}
        </div>
    </div>
    <div class="col-3">{{> right-nav}}</div>
</div>

<!-- Modal -->
<div class="modal fade" id="editProfileModal" tabindex="-1" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"
                    aria-label="Close"></button>
            </div>
            <div class="modal-body">
                ...
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary">Save changes</button>
            </div>
        </div>
    </div>
</div>

<script>
    document.getElementById("middle").style.height =  window.innerHeight+'px';
</script>