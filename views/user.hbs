{{> left}}


<div class="col-6 d2">
  <div class="row row-cols-1 row-cols-md-1">
    {{> user-profile user=user}}
    <div class="col" style="margin-top:420px ;">
      {{> user-tabs route='tweets'}}
    </div>

    {{!-- tweets --}}
    <div class="card tweets_card" style="margin-top:301px;border-top: 1px solid #d5d5dc;">
      {{#each userTweets }}
      <div class="row row-cols-1 row-cols-md-1">
        <div class="col">
          <div class="tweet_card">
            <div class="popular_imgbody">
              <a href="/users/{{this.UserId}}/tweets">
                <img src="{{ ../user.avatar }}" class="popular_img" alt="...">
              </a>
            </div>
            <div class="card-body tweet_cardbody">
              <div class="tweet_title">
                <a href="/users/{{this.UserId}}/tweets" style="text-decoration: none; ">
                  <p class="tweet_name">{{ ../user.name }}</p>
                </a>
                <p class="tweet_acount">
                  @{{ ../user.account }}
                </p>
                <p class="tweet_acount">
                  • {{relativeTimeFromNow this.createdAt}}
                </p>
              </div>
              <div class="tweet_description">
                <a href="/tweets/{{this.id}}/replies" style="text-decoration: none; color: #171725;">
                  <p style="maxlength=" 140";">
                    {{this.description}}
                  </p>
                </a>
              </div>

              <div class="tweet_icon">
                {{!-- 回覆 --}}
                <span class=" me-1">
                  <a href="/tweets/{{this.id}}/replies" style='text-decoration: none;' data-bs-toggle="modal"
                    data-bs-target="#reply-tweet-{{this.id}}">
                    <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path
                        d="M8.36401 0.494673L5.59867 0.488007H5.59734C2.68134 0.488007 0.397339 2.77267 0.397339 5.68934C0.397339 8.42134 2.52134 10.4933 5.37401 10.6027V13.1547C5.37401 13.2267 5.40334 13.3453 5.45401 13.4233C5.54867 13.5733 5.71001 13.6547 5.87534 13.6547C5.96734 13.6547 6.06001 13.6293 6.14334 13.576C6.31934 13.464 10.4587 10.816 11.5353 9.90534C12.8033 8.83201 13.562 7.25867 13.564 5.69734V5.68601C13.56 2.77467 11.2773 0.494673 8.36401 0.494006V0.494673ZM10.8887 9.14267C10.1327 9.78267 7.64734 11.4127 6.37401 12.238V10.1133C6.37401 9.83734 6.15067 9.61334 5.87401 9.61334H5.61001C3.17001 9.61334 1.39801 7.96267 1.39801 5.68934C1.39801 3.33334 3.24334 1.48801 5.59801 1.48801L8.36267 1.49467H8.36401C10.7187 1.49467 12.564 3.33867 12.5653 5.69201C12.5633 6.96534 11.9373 8.25467 10.8893 9.14267H10.8887Z"
                        fill="#6C757D" />
                    </svg>
                  </a>

                  <!-- Modal -->
                  <div class="modal fade" id="reply-tweet-{{this.id}}" tabindex="-1"
                    aria-labelledby="indexTweetModalLabel" aria-hidden="true">

                    <div class="modal-dialog modal-dialog-scrollable">

                      <div class="modal-content" style="border-radius: 20px;width: 700px;height: 500px;top: 56px;">
                        <div class="modal-header" style="left: 0%;right: 0%;top: 5.33%; bottom: 81%;">
                          <button type="button" class="close ml-0 pl-0" data-bs-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                          </button>
                        </div>
                        <div class="col">
                          <div class="modal-body">
                            <div class="media d-flex">
                              <div class="popular_imgbody">
                                <a href="/users/{{this.UserId}}/tweets">
                                  <img src="{{ ../user.avatar }}" class="popular_img" alt="...">
                                </a>
                              </div>
                              <div class="card-body tweet_cardbody">
                                <div class="tweet_title">
                                  <a href="/users/{{this.UserId}}/tweets" style="text-decoration: none; ">
                                    <p class="tweet_name">{{ ../user.name }}</p>
                                  </a>
                                  <p class="tweet_acount">
                                    @{{../user.account}}
                                  </p>
                                  <p class="tweet_acount">
                                    • {{relativeTimeFromNow this.createdAt}}
                                  </p>
                                </div>
                                <div class="modaltweet_description">
                                  <a href="/tweets/{{this.id}}/replies" style="text-decoration: none; color: #171725;">
                                    <p style="maxlength=" 140";">
                                      {{this.description}}
                                    </p>
                                  </a>
                                </div>

                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="tweet_icon" style="  margin-top: 280px; width:300px; ">
                          <p class="modal_text">回覆給</p>
                          <a href="/users/{{this.UserId}}/tweets">
                            <p class="tweet_acount" style="color: #FC5A5A;margin-left: -148px ">
                              @{{../user.account}}
                            </p>
                          </a>
                        </div>
                        <div class="modal_line"></div>

                        <div class="col">
                          <div class="modal-body">

                            <div class="media d-flex tweet_cardbody">
                              <div class="popular_imgbody">
                                <a href="/users/{{this.UserId}}/tweets">
                                  <img src="{{ ../logInUser.avatar }}" class="popular_img" alt="...">
                                </a>
                              </div>
                              <div class="media-body" style="margin-left: 30px;">
                                <form action="/tweets/{{ id }}/replies" id="tweets" method="post">
                                  <div class="d-flex d-inline">
                                    <textarea name="comment" id="tweet-content" rows="5" class="form-control"
                                      placeholder="推你的回覆" maxlength="140"
                                      style=" width: 500px;height: 90px;top: 56px; border:0px; resize : none; outline : 0; overflow:hidden;"></textarea>
                                  </div>
                                  <div class="d-flex d-inline">
                                    <div id='add-tweet-info' class='tweet-error-message'>
                                      內容不可空白
                                    </div>
                                    <button class=" btn tweet_btn" type="submit"
                                      style='width:70px; background-color: #FF6600;border-radius:100px; color:white; font-weight:bold; font-size:18px;position: absolute; right: 15px; bottom:15px;'>回覆</button>
                                  </div>
                                </form>
                              </div>
                            </div>
                          </div>
                        </div>


                      </div>
                    </div>
                  </div>

                  {{#if this.Replies.length}}
                  {{ this.Replies.length }}
                  {{else}}
                  0
                  {{/if}}
                </span>

                {{!-- 喜歡 --}}
                {{#if this.isLiked}}
                <form action="/tweets/{{ this.id }}/unlike" method="POST">
                    <button type="submit" style="background: transparent; border-width:0px; outline:none">
                      <span class=" me-1">
                        <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path
                            d="M7.00005 13.4253H6.99072C5.26872 13.3933 0.300049 8.90401 0.300049 4.65201C0.300049 2.60934 1.98338 0.81601 3.90205 0.81601C5.42872 0.81601 6.45538 1.86934 6.99938 2.63601C7.54205 1.87068 8.56871 0.81601 10.096 0.81601C12.016 0.81601 13.6987 2.60934 13.6987 4.65268C13.6987 8.90334 8.72938 13.3927 7.00738 13.424H7.00005V13.4253ZM3.90272 1.81668C2.51605 1.81668 1.30072 3.14201 1.30072 4.65334C1.30072 8.48001 5.99005 12.384 7.00072 12.4253C8.01272 12.384 12.7007 8.48068 12.7007 4.65334C12.7007 3.14201 11.4854 1.81668 10.0987 1.81668C8.41338 1.81668 7.47205 3.77401 7.46405 3.79334C7.31072 4.16801 6.69338 4.16801 6.53938 3.79334C6.53005 3.77334 5.58938 1.81668 3.90338 1.81668H3.90272Z"
                            fill="#6C757D" />
                        </svg>
                        {{ this.Likes.length }}
                      </span>
                    </button>
                  </form>
                  {{else}}
                  
                  <form action="/tweets/{{ this.id }}/like" method="POST">
                    <button type="submit" style="background: transparent; border-width:0px; outline:none">
                      <span class=" me-1">
                        <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path
                            d="M7.00005 13.4253H6.99072C5.26872 13.3933 0.300049 8.90401 0.300049 4.65201C0.300049 2.60934 1.98338 0.81601 3.90205 0.81601C5.42872 0.81601 6.45538 1.86934 6.99938 2.63601C7.54205 1.87068 8.56871 0.81601 10.096 0.81601C12.016 0.81601 13.6987 2.60934 13.6987 4.65268C13.6987 8.90334 8.72938 13.3927 7.00738 13.424H7.00005V13.4253ZM3.90272 1.81668C2.51605 1.81668 1.30072 3.14201 1.30072 4.65334C1.30072 8.48001 5.99005 12.384 7.00072 12.4253C8.01272 12.384 12.7007 8.48068 12.7007 4.65334C12.7007 3.14201 11.4854 1.81668 10.0987 1.81668C8.41338 1.81668 7.47205 3.77401 7.46405 3.79334C7.31072 4.16801 6.69338 4.16801 6.53938 3.79334C6.53005 3.77334 5.58938 1.81668 3.90338 1.81668H3.90272Z"
                            fill="#6C757D" />
                        </svg>
                        {{ this.Likes.length }}
                      </span>
                    </button>
                  </form>


                {{/if}}


              </div>
            </div>
          </div>
        </div>

      </div>
      {{/each}}
    </div>
  </div>
</div>




{{> right}}